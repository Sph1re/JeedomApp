<Page x:ConnectionId='1' x:Class="JeedomApp.Views.SettingsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:Core="using:Microsoft.Xaml.Interactions.Core"
      xmlns:Jeedom="using:Jeedom"
      xmlns:ViewModels="using:JeedomApp.ViewModels"
      xmlns:behaviors="using:Template10.Behaviors"
      xmlns:controls="using:Template10.Controls"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:interactivity="using:Microsoft.Xaml.Interactivity"
      xmlns:localcontrols="using:JeedomApp.Controls"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:vm="using:JeedomApp.ViewModels"
      mc:Ignorable="d">

    <Page.DataContext>
        <vm:SettingsPageViewModel x:ConnectionId='2' x:Name="ViewModel" />
    </Page.DataContext>

    <Grid Background="{ThemeResource MainBackground}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
        </Grid.RowDefinitions>

        <!--  header  -->
        <controls:PageHeader x:ConnectionId='3' Content="Configuration"                        />

        <!--  content  -->
        <Pivot x:ConnectionId='4' x:Name="AppParameter" Grid.Row="1">
            <PivotItem Header="Serveur">
                <PivotItem.DataContext>
                    <vm:SettingsPageViewModel />
                </PivotItem.DataContext>
                <RelativePanel>
                    <!--  Actions  -->
                    <RelativePanel x:ConnectionId='19' x:Name="ActionsPanel">
                        <TextBlock x:ConnectionId='22' x:Name="ActionTitle"
                                   RelativePanel.AlignLeftWithPanel="True"
                                   RelativePanel.AlignTopWithPanel="True"
                                   Text="Actions sur le serveur" />
                        <StackPanel Margin="0,10,10,10"
                                    Orientation="Horizontal"
                                    RelativePanel.Below="ActionTitle">
                            <Button x:ConnectionId='23' x:Name="UpdateButton"
                                    Margin="8"
                                                              
                                    Content="Mise à jour" />
                            <Button x:ConnectionId='24' x:Name="RebootButton"
                                    Margin="8"
                                                              
                                    Content="Redémarrer" />
                            <Button x:ConnectionId='25' x:Name="ShutdownButton"
                                    Margin="8"
                                                                
                                    Content="Eteindre" />
                        </StackPanel>
                    </RelativePanel>

                    <!--  Paramètres serveur  -->
                    <RelativePanel x:ConnectionId='20' x:Name="ConfigPanel" RelativePanel.Below="ActionsPanel">
                        <TextBlock x:ConnectionId='21' x:Name="ConfigTitle"
                                   RelativePanel.AlignLeftWithPanel="True"
                                   RelativePanel.AlignTopWithPanel="True"
                                   Style="{StaticResource SubtitleTextBlockStyle}"
                                   Text="Paramètres de connexion" />
                        <localcontrols:ConnectControl RelativePanel.Below="ConfigTitle" />
                    </RelativePanel>
                </RelativePanel>
            </PivotItem>
            <PivotItem x:ConnectionId='5' x:Name="Location" Header="Localisation">
                <PivotItem.DataContext>
                    <Jeedom:ConfigurationViewModel />
                </PivotItem.DataContext>
                <StackPanel>
                    <ToggleSwitch x:ConnectionId='11' x:Name="activeLocation"
                                  Width="100"
                                  Height="60"
                                  Header="Activation"
                                  IsOn="{Binding GeolocActivation, Mode=TwoWay}"
                                                                   />
                    <ComboBox x:ConnectionId='12' x:Name="HomePosition_Cmd"
                              Height="60"
                              Header="Objet Jeedom de votre Maison"
                                                                                  
                              d:LayoutOverrides="LeftPosition, RightPosition">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <StackPanel>
                                        <TextBlock Text="{Binding name}" />
                                    </StackPanel>
                                </StackPanel>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                    <ComboBox x:ConnectionId='13' x:Name="MobilePosition_Cmd"
                              Height="60"
                              Header="Objet Jeedom de votre mobile"
                                                                                    
                              d:LayoutOverrides="LeftPosition, RightPosition">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <StackPanel>
                                        <TextBlock Text="{Binding name}" />
                                    </StackPanel>
                                </StackPanel>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                    <ToggleSwitch x:ConnectionId='14' x:Name="activeGeoFence"
                                  Width="100"
                                  Header="Activation"
                                  IsOn="{Binding GeoFenceActivation, Mode=TwoWay}" />
                    <TextBox Height="60"
                             Header="Distance d'activation du Géorepérage"
                             Text="{Binding GeoFenceActivationDistance, Mode=TwoWay}"
                             d:LayoutOverrides="LeftPosition, RightPosition" />
                    <TextBlock x:ConnectionId='15' x:Name="Status"
                               Height="20"
                               TextWrapping="Wrap"
                               d:LayoutOverrides="LeftPosition, RightPosition" />
                    <StackPanel>
                        <TextBlock Grid.Row="0"
                                   Grid.Column="0"
                                   Height="25"
                                   Text="Latitude: "
                                   TextWrapping="Wrap" />
                        <TextBlock x:ConnectionId='18' x:Name="MobilePosition_Latitude"
                                   Grid.Row="0"
                                   Height="21"
                                   Text="No data"
                                   TextWrapping="Wrap"
                                   d:LayoutOverrides="LeftPosition, RightPosition" />
                    </StackPanel>
                    <StackPanel>
                        <TextBlock Grid.Column="0"
                                   Height="30"
                                   Text="Longitude: "
                                   TextWrapping="Wrap" />
                        <TextBlock x:ConnectionId='16' x:Name="MobilePosition_Longitude"
                                   Height="25"
                                   Text="No data"
                                   TextWrapping="Wrap"
                                   d:LayoutOverrides="LeftPosition, RightPosition" />
                        <StackPanel />
                        <TextBlock Grid.Column="0"
                                   Height="22"
                                   Text="Accuracy: "
                                   TextWrapping="Wrap" />
                        <TextBlock x:ConnectionId='17' x:Name="MobilePosition_Accuracy"
                                   Height="20"
                                   Text="No data"
                                   TextWrapping="Wrap"
                                   d:LayoutOverrides="LeftPosition, RightPosition" />
                    </StackPanel>
                </StackPanel>
            </PivotItem>
            <PivotItem x:ConnectionId='6' x:Name="notify" Header="Notification">
                <PivotItem.DataContext>
                    <Jeedom:ConfigurationViewModel />
                </PivotItem.DataContext>
                <StackPanel>
                    <ToggleSwitch x:ConnectionId='9' x:Name="activePush"
                                  Width="100"
                                  Height="100"
                                  Header="Activation"
                                  IsOn="{Binding NotificationActivation, Mode=TwoWay}"
                                                               />
                    <ComboBox x:ConnectionId='10' x:Name="MobileNotification"
                              Height="60"
                                                                                        
                              d:LayoutOverrides="LeftPosition, RightPosition">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <StackPanel>
                                        <TextBlock Text="{Binding name}" />
                                    </StackPanel>
                                </StackPanel>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                </StackPanel>
            </PivotItem>

            <!--  Thème  -->
            <PivotItem Header="Thème">
                <PivotItem.DataContext>
                    <vm:ThemePartViewModel />
                </PivotItem.DataContext>
                <ScrollViewer Margin="0,12,-12,0"
                              HorizontalContentAlignment="Left"
                              VerticalScrollBarVisibility="Auto">
                    <RelativePanel HorizontalAlignment="Left">

                        <ToggleSwitch x:ConnectionId='7' x:Name="UseLightThemeToggleSwitch"
                                      Header="Utiliser le thème"
                                      IsOn="{Binding UseLightThemeButton, Mode=TwoWay}"
                                      OffContent="Foncé"
                                      OnContent="Clair"
                                      RelativePanel.AlignLeftWithPanel="True"
                                      RelativePanel.AlignTopWithPanel="True" />
                        <ToggleSwitch x:ConnectionId='8' x:Name="UseShellDrawnBackButtonToggleSwtich"
                                      Header="Affichage du bouton retour"
                                      IsOn="{Binding UseShellBackButton, Mode=TwoWay}"
                                      OffContent="Bouton retour à droite du menu"
                                      OnContent="Bouton retour dans la barre des titres ou dans la barre des tâches"
                                      RelativePanel.AlignLeftWithPanel="True"
                                      RelativePanel.Below="UseLightThemeToggleSwitch" />
                    </RelativePanel>
                </ScrollViewer>
            </PivotItem>
        </Pivot>
    </Grid>
</Page>

